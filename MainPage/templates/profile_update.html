{% extends 'HomePage.html' %}
{% block home %}
<section class="section bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h2 class="display-4 text-center ">Update Your Profile</h2>
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="id_image" class="mt-3">Profile Image</label>
                        {{ form.image }}
                       
                        <!-- <div class="mt-3 text-center">
                            <img id="image-preview" src="{{form.image}}" alt="Profile Image" style="display:none; width: 150px; height: 150px; object-fit: cover; border-radius: 50%;">
                        </div> -->
          
                    </div>
                    <div class="form-group">
                        <label for="id_title">Username</label>
                        {{ form.username }}
                    </div>
                    <div class="form-group">
                        <label for="id_description">Bio</label>
                        {{ form.bio }}
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    // JavaScript to preview the selected image
    document.getElementById('id_image').addEventListener('change', function(event) {
        var reader = new FileReader();
        reader.onload = function(e) {
            var imagePreview = document.getElementById('image-preview');
            imagePreview.src = e.target.result;
            imagePreview.style.display = 'block';
        }
        reader.readAsDataURL(event.target.files[0]);
    });
</script>
{% endblock home %}
