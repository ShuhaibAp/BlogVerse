{% extends 'HomePage.html' %}
{% block home %}
<!-- Blog Detailing Section -->
<div class="site-cover site-cover-sm same-height overlay single-page text-center" style="background-image: url('{{ blog_det.image.url }}'); height: 900px; width: 100%; position: relative;">
  <div class="container">
    <div class="row same-height justify-content-center">
      <div class="col-md-6">
        <h2 class="mb-4 text-white" style="font-size: 45px;">{{ blog_det.title }}</h2>
        <div class="post-meta align-items-center text-center">
          <span>{{ blog_det.date }}</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bookmark Button at the Top Right -->
  <div class="bookmark-button" style="position: absolute; top: 20px; right: 20px;z-index: 100;">
    <form action="{% url 'bookmark' blog_det.id %}" method="POST">
      {% csrf_token %}
       <button type="submit" class="btn py-2">
        {% if user in blog_det.bookmarks.all %}
          <i class="fas fa-bookmark" style="color: skyblue; font-size: 23px;"></i>
        {% else %}
          <i class="far fa-bookmark" style="color: skyblue; font-size: 23px;"></i>
        {% endif %}
      </button>
    </form>
  </div>
</div>

<!-- Blog Content Section -->
  <div class="container">
    <div class="row blog-entries element-animate">
      <div class="col-md-12 col-lg-8 main-content">
        <div class="post-content-body text-dark mt-5" style="font-size: 22px;">
          <p>{{ blog_det.desc }}</p>
        </div>
          <div class="pt-3 d-flex justify-content-between align-items-center">
            <p class="m-0">Category: <a href="#">{{ blog_det.category }}</a></p>
            <div class="d-flex align-items-center">
              <form action="{% url 'blike' blog_det.id %}" method="POST" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn py-2">
                  {% if user in blog_det.likes.all %}
                    <i class="fas fa-heart" style="color: red; font-size: 20px;"></i> 
                  {% else %}
                    <i class="far fa-heart" style="color: red; font-size: 20px;"></i> 
                  {% endif %}
                  {{ blog_det.total_likes }}
                </button>
              </form>
            {% if user == blog_det.profile.user %}
            <a href="{% url 'bupd' blog_det.id %}" class="btn py-2" title="Edit Blog">
              <i class="fas fa-edit" style="font-size: 20px; color: #214252;"></i>
            </a>
            {% endif %}
          </div>
        </div>

        <div class="pt-5 comment-wrap">
          <h3 class="mb-5 heading">6 Comments</h3>
          <ul class="comment-list">
            <!-- Example comments, replace with actual comments if available -->
            <li class="comment">
              <div class="vcard">
                <img src="images/person_1.jpg" alt="Image placeholder">
              </div>
              <div class="comment-body">
                <h3>Jean Doe</h3>
                <div class="meta">January 9, 2018 at 2:21pm</div>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Pariatur quidem laborum necessitatibus, ipsam impedit vitae autem, eum officia, fugiat saepe enim sapiente iste iure! Quam voluptas earum impedit necessitatibus, nihil?</p>
                <p><a href="#" class="reply rounded">Reply</a></p>
              </div>
            </li>
            <!-- Add more comments as needed -->
          </ul>

          <div class="comment-form-wrap pt-5">
            <h3 class="mb-5">Leave a comment</h3>
            <form action="#" class="p-5 bg-light">
              <div class="form-group">
                <label for="name">Name *</label>
                <input type="text" class="form-control" id="name">
              </div>
              <div class="form-group">
                <label for="email">Email *</label>
                <input type="email" class="form-control" id="email">
              </div>
              <div class="form-group">
                <label for="website">Website</label>
                <input type="url" class="form-control" id="website">
              </div>

              <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" cols="30" rows="10" class="form-control"></textarea>
              </div>
              <div class="form-group">
                <input type="submit" value="Post Comment" class="btn btn-primary">
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Sidebar -->
    <div class="col-md-12 col-lg-4 sidebar">
        <div class="sidebar-box">
          <div class="bio text-center mt-5">
            <img src="{{ blog_det.profile.image.url }}" alt="Image Placeholder" class="mb-3" height="150px" width="150px">
            <div class="bio-body">
              <h2>{{ blog_det.profile.username }}</h2>
              <p class="mb-4">{{ blog_det.profile.bio|slice:":150" }}...</p>
              <p><a href="{% url 'pview' blog_det.profile.user %}" class="btn btn-primary btn-sm rounded px-2 py-2">Read my bio</a></p>
            </div>
          </div>
        </div>
        </div>  

        <div class="sidebar-box">
          <h3 class="heading">Related Posts</h3>
          <div class="post-entry-sidebar">
            <ul>
              <li>
                <a href="">
                  <img src="images/img_1_sq.jpg" alt="Image placeholder" class="me-4 rounded">
                  <div class="text">
                    <h4>Thereâ€™s a Cool New Way for Men to Wear Socks and Sandals</h4>
                    <div class="post-meta">
                      <span class="mr-2">March 15, 2018 </span>
                    </div>
                  </div>
                </a>
              </li>
              <!-- Add more related posts as needed -->
            </ul>
          </div>
        </div>

        <div class="sidebar-box">
          <h3 class="heading">Categories</h3>
          <ul class="categories">
            <li><a href="#">Food <span>(12)</span></a></li>
            <li><a href="#">Travel <span>(22)</span></a></li>
            <li><a href="#">Lifestyle <span>(37)</span></a></li>
            <li><a href="#">Business <span>(42)</span></a></li>
            <li><a href="#">Adventure <span>(14)</span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section posts-entry posts-entry-sm bg-light">
  <div class="container">
    <div class="row mb-4">
      <div class="col-12 text-uppercase text-black">More Blog Posts</div>
    </div>
    <div class="row">
      <div class="col-md-6 col-lg-3">
        <div class="blog-entry">
          <a href="single.html" class="img-link">
            <img src="images/img_1_horizontal.jpg" alt="Image" class="img-fluid">
          </a>
          <span class="date">Apr. 14th, 2022</span>
          <h2><a href="single.html">Thought you loved Python? Wait until you meet Rust</a></h2>
          <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
          <p><a href="#" class="read-more">Continue Reading</a></p>
        </div>
      </div>
      <!-- Add more blog entries as needed -->
    </div>
  </div>
</section>

{% endblock home %}
